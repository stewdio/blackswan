/*

	Copyright Â© 2020, Stewart Smith. See LICENSE for details.

*/









body {

	--bpm: 101;
	--beat:         calc( 60s / var( --bpm ));
	--beat-half:    calc( var( --beat ) / 2 );
	--beat-quarter: calc( var( --beat ) / 4 );
	--beat-eighth:  calc( var( --beat ) / 8 );

	background-color: black;
	perspective: 600px;
}
.keyboard {

	transition-property: transform;
	transition-duration: 1s;
	transition-timing-function: ease-in-out;
	transform-style: preserve-3d;
}








.key {

	background-color: hsl( 25, 10%, 20% );
	color: hsl( 25, 10%, 70% );
	text-shadow:
		0
		0
		calc( var( --size ) * 2 )
		hsla( 25, 5%, 90%, 0.1 );
	transition: 
		background-color var( --beat-quarter ) linear,
		transform var( --beat ) ease-out;
	transform-origin: center center;
}

.key.press,
.key:hover {

	background-color: hsl( 25, 50%, 90% );
	color: white;
	box-shadow: 
		0
		0
		calc( var( --size ) * 4 )
		hsla( 25, 50%, 90%, 0.5 );
}




.key.dead,
.key.dead.press,
.key.dead:hover {

	color: transparent;
	text-shadow: none;
}



.keyboard.push-out .key {

	transition: 
		background-color var( --beat-half ) linear,
		text-shadow var( --beat-half ) linear,
		transform var( --beat ) ease-out;
}
.keyboard.push-out .key.press,
.keyboard.push-out .key:hover {
	
	/*transform: translateZ( calc( var( --size ) * 10 ));*/
	/*transition: transform 0s;*/
	transform: translateZ( 120px ) !important;
	/*background: initial;*/
	transition: none;
}






.keyboard.long-sustain .key {

	transition: 
		background-color var( --beat ) ease-in,
		transform var( --beat-eighth ) ease-out;
}
.keyboard.long-sustain .key.press,
.keyboard.long-sustain .key:hover {

	transition: none;
}




.key.black {

	background: none;
	background-color: black;
	/*color: transparent;*/
}
.key.invisible {

	color: transparent;
	transition: none;
}






.key-period.press,
.key-period:hover {

	background-color: hsl( 220, 0%, 100% );
	box-shadow: 
		0
		0
		calc( var( --size ) * 6 )
		hsla( 220, 0%, 100%, 0.8 );
}




.keyboard.surf-rider {

	transform: 
		translate3d( 0, 0, 100px )
		rotate3d( 0, 0, -1, 80deg ) 
		rotate3d( 0, 1,  0, 60deg );
}










.keyboard.crazy .key {

	box-shadow: 
		0
		0
		calc( var( --size ) * 2 )
		hsla( 25, 0%, 0%, 0.5 );
	transition: none;
	transform: 
		translate3d( 
		
			var( --tx ),
			var( --ty ),
			var( --tz )
		)
		rotate3d( 

			var( --rx ),
			var( --ry ),
			var( --rz ),
			180deg
		) !important;
}
.keyboard.crazy .key.press
.keyboard.crazy .key:hover {


}








